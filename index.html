<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Community Engagement at Options For All</title>

  <!-- Keep SDK + EmailJS (since your original file uses them) -->
  <script src="/_sdk/element_sdk.js"></script>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet" />

  <style>
    :root{
      /* Brand / theme */
      --bg: #f8fafc;
      --accent: #1e3a8a;
      --surface: #ffffff;
      --text: #211c1d;
      --muted: #565656;
      --button: #ea580c;

      /* Section backgrounds */
      --section-a: #e2efff;
      --section-b: #ffd4b8;

      /* Card */
      --card-radius: 16px;
      --card-border: rgba(0,0,0,0.10);
      --card-shadow: 0 10px 24px rgba(0,0,0,0.10);
      --card-shadow-hover: 0 14px 34px rgba(0,0,0,0.14);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body { height: 100%; width: 100%; }
    body {
      font-family: 'Poppins', system-ui, -apple-system, sans-serif;
      color: var(--text);
      background: var(--bg);
      line-height: 1.6;
      overflow-x: hidden;
      font-size: 16px;
    }

    .page-wrapper { width: 100%; min-height: 100%; overflow-x: hidden; }

    /* NAV */
    .navbar{
      position: fixed; top: 0; left: 0; right: 0;
      z-index: 100;
      background: rgba(255,255,255,0.95);
      backdrop-filter: blur(12px);
      box-shadow: 0 2px 12px rgba(0,0,0,0.08);
      padding: 1rem 2rem;
    }
    .navbar-content{
      max-width: 1200px;
      margin: 0 auto;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 1.5rem;
    }
    .site-logo{ height: 42px; width: auto; display:block; }

    /* Language Toggle */
    .language-toggle{ display:flex; align-items:center; gap: .625rem; }
    .lang-label{
      font-size: .95rem;
      font-weight: 700;
      opacity: .7;
      cursor: pointer;
      user-select: none;
      transition: opacity .2s ease;
    }
    .lang-label.active{ opacity: 1; }

    .toggle-switch{
      position: relative;
      width: 52px; height: 28px;
      background: #e0e0e0;
      border-radius: 999px;
      cursor: pointer;
      transition: background .2s ease;
    }
    .toggle-switch.active{ background: #40916c; }
    .toggle-slider{
      position:absolute; top: 3px; left: 3px;
      width: 22px; height: 22px;
      background: #fff;
      border-radius: 50%;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
      transition: transform .2s ease;
    }
    .toggle-switch.active .toggle-slider{ transform: translateX(24px); }

    /* HERO */
    .hero{
      min-height: 75vh;
      display:flex;
      align-items:center;
      padding: 10rem 2rem 6rem;
      position: relative;
      overflow: hidden;
      background: var(--accent);
    }
    .hero-background{ position:absolute; inset:0; z-index:0; }
    .hero-background img{ width: 100%; height: 100%; object-fit: cover; display:block; }
    .hero::before{
      content:'';
      position:absolute; inset:0;
      background: linear-gradient(90deg, rgba(11,42,74,0.65), rgba(11,42,74,0.35));
      z-index:1;
    }
    .hero-content{
      max-width: 1100px;
      width: 100%;
      margin: 0 auto;
      position: relative;
      z-index: 2;
      text-align: center;
      display:flex;
      flex-direction: column;
      align-items:center;
    }
    .hero h1{
      font-size: clamp(2.75rem, 6vw, 4.5rem);
      font-weight: 800;
      margin-bottom: 1.25rem;
      line-height: 1.1;
      letter-spacing: -0.03em;
      color: #fff;
      max-width: 900px;
    }
    .hero p{
      font-size: clamp(1.15rem, 2vw, 1.375rem);
      margin-bottom: 2rem;
      color: #fff;
      opacity: .92;
      max-width: 700px;
    }

    .cta-buttons{
      display:flex;
      gap: 1rem;
      flex-wrap: wrap;
      justify-content: center;
    }
    .btn{
      padding: 1.05rem 2.5rem;
      font-size: 1.05rem;
      font-weight: 700;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: transform .15s ease, box-shadow .2s ease, background .2s ease;
      font-family: 'Poppins', sans-serif;
    }
    .btn:hover{ transform: translateY(-2px); }
    .btn:active{ transform: translateY(0); }
    .btn-primary{
      background: var(--button);
      color: #fff;
      box-shadow: 0 10px 24px rgba(234,88,12,0.28);
    }
    .btn-primary:hover{ box-shadow: 0 14px 34px rgba(234,88,12,0.34); }
    .btn-secondary{
      background: transparent;
      color: #fff;
      border: 2px solid #fff;
      padding: calc(1.05rem - 2px) calc(2.5rem - 2px);
    }
    .btn-secondary:hover{ background: rgba(255,255,255,0.14); }

    /* CONTENT / SECTIONS */
    .content{ width: 100%; }

    .section{
      padding: 5rem 2rem;
      width: 100%;
    }
    .section:nth-of-type(1),
    .section:nth-of-type(3),
    .section:nth-of-type(5){
      background: var(--section-a);
    }
    .section:nth-of-type(2),
    .section:nth-of-type(4){
      background: var(--section-b);
    }
    .section-inner{
      max-width: 1200px;
      margin: 0 auto;
    }

    .section-title{
      font-size: clamp(2rem, 4vw, 2.75rem);
      font-weight: 800;
      margin-bottom: 1.25rem;
      letter-spacing: -0.02em;
      color: var(--text);
      position: relative;
      display: inline-block;
    }
    .section-title::after{
      content:'';
      position:absolute;
      left: 0; bottom: -10px;
      width: 64px; height: 4px;
      border-radius: 999px;
      background: #ff6d00;
      opacity: .95;
    }

    .section-content{
      font-size: 1.1rem;
      line-height: 1.85;
      margin: 1.25rem 0;
      color: var(--text);
    }

    /* Two column */
    .two-column-layout{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 2.5rem;
      align-items: start;
      margin-top: 2rem;
    }

    /* Image placeholder */
    .image-placeholder{
      background: linear-gradient(135deg, #e0f2f7 0%, #f0f9fb 100%);
      border: 3px dashed #68c3d4;
      border-radius: var(--card-radius);
      padding: 3rem 2rem;
      width: 100%;
      min-height: 380px;
      display:flex;
      flex-direction: column;
      align-items:center;
      justify-content:center;
      text-align:center;
    }
    .image-placeholder::before{
      content: 'üñºÔ∏è';
      font-size: 3.5rem;
      opacity: 0.35;
      margin-bottom: .75rem;
    }
    .placeholder-number{
      font-weight: 900;
      font-size: 1.35rem;
      color: #68c3d4;
      letter-spacing: .06em;
      margin-bottom: .6rem;
    }
    .placeholder-text{
      font-size: 1rem;
      color: #4a5568;
      font-weight: 600;
    }

    /* Highlight box */
    .highlight-box{
      background: var(--surface);
      border-radius: var(--card-radius);
      border: 1px solid var(--card-border);
      border-left: 6px solid #2067ce;
      box-shadow: var(--card-shadow);
      padding: 2rem;
      margin-top: 2.25rem;
    }

    /* ‚úÖ FIX: Cards are ALWAYS white */
    .grid{
      display:grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 24px;
      margin: 2rem 0;
      align-items: stretch;
    }
    @media (max-width: 1100px){
      .grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
    }
    @media (max-width: 640px){
      .grid{ grid-template-columns: 1fr; }
    }

    .card{
      background: var(--surface);            /* <‚Äî THIS is the key fix */
      border: 1px solid var(--card-border);  /* consistent border */
      border-radius: var(--card-radius);
      box-shadow: var(--card-shadow);
      padding: 28px;
      transition: transform .2s ease, box-shadow .2s ease;
    }
    .card:hover{
      transform: translateY(-4px);
      box-shadow: var(--card-shadow-hover);
    }
    .card h3{
      font-size: 1.45rem;
      margin-bottom: .75rem;
      font-weight: 900;
      color: var(--text);
      letter-spacing: -0.01em;
    }
    .card p{
      font-size: 1rem;
      color: var(--muted);
      line-height: 1.75;
    }

    /* Lists + activities */
    .list-columns{
      list-style:none;
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 12px;
      margin: 1.5rem 0 2rem;
      padding: 0;
    }
    .list-columns li{
      background: var(--surface);
      border: 1px solid var(--card-border);
      border-radius: 12px;
      padding: .85rem 1rem;
      box-shadow: 0 6px 16px rgba(0,0,0,0.06);
      font-weight: 700;
      color: #2067ce;
    }

    .activities-grid{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 12px;
      margin: 1.5rem 0 2rem;
    }
    .activity-tag{
      background: var(--surface);
      border: 1px solid var(--card-border);
      border-radius: 12px;
      padding: .9rem 1rem;
      text-align:center;
      box-shadow: 0 6px 16px rgba(0,0,0,0.06);
      font-weight: 700;
      color: var(--text);
      min-height: 56px;
      display:flex;
      align-items:center;
      justify-content:center;
      transition: transform .15s ease, box-shadow .2s ease;
    }
    .activity-tag:hover{
      transform: translateY(-3px);
      box-shadow: 0 10px 22px rgba(0,0,0,0.10);
    }

    .why-choose-grid{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 18px;
      margin: 2rem 0 0;
    }
    .why-choose-item{
      background: var(--surface);
      border: 1px solid var(--card-border);
      border-radius: var(--card-radius);
      box-shadow: var(--card-shadow);
      padding: 26px 22px;
      text-align:center;
      transition: transform .2s ease, box-shadow .2s ease;
    }
    .why-choose-item:hover{
      transform: translateY(-4px);
      box-shadow: var(--card-shadow-hover);
    }
    .why-icon{ font-size: 2.25rem; margin-bottom: .75rem; }
    .why-choose-item h4{
      font-size: 1.2rem;
      font-weight: 900;
      margin-bottom: .5rem;
      color: var(--text);
    }
    .why-choose-item p{ color: var(--muted); font-size: .95rem; }

    /* Footer CTA */
    .footer-cta{
      text-align:center;
      padding: 5rem 2rem;
      background: var(--bg);
    }
    .footer-inner{
      max-width: 900px;
      margin: 0 auto;
    }
    .footer-cta h2{
      font-size: clamp(2rem, 4vw, 3rem);
      font-weight: 900;
      margin-bottom: 1.25rem;
      letter-spacing: -0.02em;
      color: var(--accent);
    }
    .footer-cta p{
      font-size: 1.15rem;
      margin-bottom: 1.25rem;
      color: var(--text);
      opacity: .92;
    }

    /* Modal */
    .modal-overlay{
      display:none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.6);
      z-index: 1000;
      align-items: center;
      justify-content: center;
      padding: 1rem;
    }
    .modal-overlay.active{ display:flex; }

    .modal-content{
      background: var(--surface);
      border-radius: 18px;
      max-width: 640px;
      width: 100%;
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
      position: relative;
    }

    .modal-header{
      padding: 2rem 2rem 1rem;
      border-bottom: 1px solid rgba(0,0,0,0.08);
      position: sticky;
      top: 0;
      background: var(--surface);
      z-index: 10;
      border-radius: 18px 18px 0 0;
    }
    .modal-header h2{
      font-size: 1.75rem;
      font-weight: 900;
      color: var(--accent);
      margin-bottom: .5rem;
    }
    .modal-header p{
      font-size: .95rem;
      color: #4b5563;
      line-height: 1.6;
    }
    .close-modal{
      position:absolute;
      top: 1.25rem;
      right: 1.25rem;
      background:none;
      border:none;
      font-size: 2rem;
      line-height: 1;
      cursor:pointer;
      color: #6b7280;
      width: 34px;
      height: 34px;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .close-modal:hover{ color: var(--accent); }

    .modal-body{ padding: 2rem; }

    /* Form */
    .form-group{ margin-bottom: 1.1rem; }
    .form-row{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
    }
    .form-group label{
      display:block;
      font-size: .9rem;
      font-weight: 800;
      margin-bottom: .5rem;
      color: #374151;
    }
    .required{ color: #dc2626; margin-left: .25rem; }
    .form-group input,
    .form-group select,
    .form-group textarea{
      width: 100%;
      padding: .8rem 1rem;
      font-size: 1rem;
      border: 2px solid rgba(0,0,0,0.14);
      border-radius: 12px;
      font-family: 'Poppins', system-ui, sans-serif;
      background: #fff;
      transition: box-shadow .15s ease, border-color .15s ease;
    }
    .form-group input:focus,
    .form-group select:focus,
    .form-group textarea:focus{
      outline:none;
      border-color: var(--accent);
      box-shadow: 0 0 0 3px rgba(30,58,138,0.14);
    }
    .form-group textarea{ min-height: 120px; resize: vertical; }

    .form-group select{
      cursor:pointer;
      appearance:none;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23374151' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
      background-repeat:no-repeat;
      background-position:right 1rem center;
      padding-right: 2.5rem;
    }

    .submit-btn{
      width: 100%;
      padding: 1rem 1.25rem;
      font-size: 1.1rem;
      font-weight: 900;
      background: var(--button);
      color: #fff;
      border:none;
      border-radius: 12px;
      cursor:pointer;
      transition: transform .15s ease, box-shadow .2s ease, background .2s ease;
      margin-top: .75rem;
    }
    .submit-btn:hover{
      transform: translateY(-2px);
      box-shadow: 0 12px 26px rgba(234,88,12,0.28);
    }
    .submit-btn:disabled{
      background: #9ca3af;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    @media (max-width: 900px){
      .two-column-layout{ grid-template-columns: 1fr; }
    }
    @media (max-width: 768px){
      .navbar{ padding: .75rem 1rem; }
      .site-logo{ height: 36px; }
      .hero{ padding: 7rem 1.25rem 4rem; min-height: auto; }
      .cta-buttons{ flex-direction: column; align-items: stretch; }
      .btn{ width: 100%; }
      .form-row{ grid-template-columns: 1fr; }
      .modal-body{ padding: 1.5rem; }
      .modal-header{ padding: 1.5rem 1.5rem 1rem; }
    }
  </style>
</head>

<body>
  <!-- NAV -->
  <nav class="navbar">
    <div class="navbar-content">
      <div class="logo-container">
        <img
          src="https://optionsforall.org/wp-content/uploads/2023/03/cropped-Options-for-All-Logo-transp-small.png"
          alt="Options For All Logo"
          class="site-logo"
          onerror="this.style.display='none';"
        />
      </div>

      <div class="language-toggle">
        <span class="lang-label active" id="lang-en">EN</span>
        <div class="toggle-switch" id="toggle-switch" aria-label="Toggle language">
          <div class="toggle-slider"></div>
        </div>
        <span class="lang-label" id="lang-es">ES</span>
      </div>
    </div>
  </nav>

  <div class="page-wrapper">
    <!-- HERO -->
    <section class="hero" id="hero">
      <div class="hero-background">
        <img
          src="https://optionsforall.org/wp-content/uploads/2022/05/369A0077-1.jpg"
          alt="Community Engagement"
          onerror="this.style.display='none';"
        />
      </div>

      <div class="hero-content">
        <h1 id="main-title">Community Engagement Program</h1>
        <p id="subtitle">
          A supportive weekday program where adults with disabilities build friendships, explore new interests, and connect with their community.
        </p>

        <div class="cta-buttons">
          <button class="btn btn-primary" id="primary-button" type="button">Learn How to Join</button>
          <button class="btn btn-secondary" id="secondary-button" type="button">View Our Location</button>
        </div>
      </div>
    </section>

    <!-- MAIN CONTENT -->
    <div class="content">
      <!-- About -->
      <section class="section">
        <div class="section-inner">
          <h2 class="section-title" id="about-title">About the Community Engagement Program</h2>

          <div class="two-column-layout">
            <div class="column-left">
              <div class="image-placeholder" id="img-placeholder-2">
                <div class="placeholder-number">IMAGE #2</div>
                <p class="placeholder-text" id="img-2-text">Daily activities - Participants engaging together</p>
              </div>
            </div>

            <div class="column-right">
              <p class="section-content" id="about-p1">
                The Community Engagement Program at Options For All is a supportive day program where participants can build friendships, explore interests, and take part in meaningful activities within their community.
              </p>
              <p class="section-content" id="about-p2">
                The program runs Monday through Friday from 8:00 AM to 1:00 PM and includes transportation for both morning pick-up and afternoon return. Transportation schedules are coordinated based on participant location.
              </p>
            </div>
          </div>

          <div class="highlight-box" id="highlight-box">
            <p class="section-content" id="highlight-p1">
              Each day is thoughtfully planned to reflect individual interests and preferences. Participants are encouraged to try new activities, build confidence, and stay engaged in a welcoming, structured environment.
            </p>
            <p class="section-content" id="highlight-p2">
              With more than 40 years of experience, Options For All is known for creating inclusive programs led by caring, well-trained staff who focus on connection, respect, and belonging.
            </p>
          </div>
        </div>
      </section>

      <!-- Who -->
      <section class="section">
        <div class="section-inner">
          <h2 class="section-title" id="who-title">Who the Program Is For</h2>
          <p class="section-content" id="who-intro">The Community Engagement Program may be a great fit for individuals who:</p>

          <div class="grid">
            <div class="card" id="card-1">
              <h3 id="card-1-title">Structure &amp; Routine</h3>
              <p id="card-1-text">Looking for a weekday program with consistent structure and routine</p>
            </div>

            <div class="card" id="card-2">
              <h3 id="card-2-title">Small Groups</h3>
              <p id="card-2-text">Enjoy participating in small group activities</p>
            </div>

            <div class="card" id="card-3">
              <h3 id="card-3-title">Skill Building</h3>
              <p id="card-3-text">Want opportunities to socialize and build everyday skills</p>
            </div>

            <div class="card" id="card-4">
              <h3 id="card-4-title">Community Connection</h3>
              <p id="card-4-text">Are interested in being active in their local community</p>
            </div>
          </div>

          <p class="section-content" id="who-outro">
            Our team is happy to help answer questions and explore whether the program is a good match.
          </p>
        </div>
      </section>

      <!-- About org -->
      <section class="section">
        <div class="section-inner">
          <h2 class="section-title" id="org-title">About Options For All</h2>

          <p class="section-content" id="org-p1">
            Options For All is a nonprofit organization with more than 40 years of experience supporting individuals and families through high-quality, community-based programs.
          </p>
          <p class="section-content" id="org-p2">
            We are committed to creating inclusive, welcoming spaces where people feel valued, supported, and connected.
          </p>
          <p class="section-content" id="org-p3">
            Families choose Options For All because of experienced staff, thoughtful programming, and deep commitment to belonging and inclusion.
          </p>

          <div class="why-choose-grid">
            <div class="why-choose-item">
              <div class="why-icon">‚≠ê</div>
              <h4 id="why-1-title">40+ Years of Experience</h4>
              <p id="why-1-text">Decades of community-based support and trusted partnerships</p>
            </div>

            <div class="why-choose-item">
              <div class="why-icon">üë•</div>
              <h4 id="why-2-title">Compassionate Team</h4>
              <p id="why-2-text">Consistent, well-trained staff who truly care</p>
            </div>

            <div class="why-choose-item">
              <div class="why-icon">üí°</div>
              <h4 id="why-3-title">Person-Centered Approach</h4>
              <p id="why-3-text">Programs designed around individual interests and strengths</p>
            </div>

            <div class="why-choose-item">
              <div class="why-icon">üèòÔ∏è</div>
              <h4 id="why-4-title">Community Focus</h4>
              <p id="why-4-text">Strong emphasis on connection, routine, and involvement</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Communities -->
      <section class="section">
        <div class="section-inner">
          <h2 class="section-title" id="communities-title">Communities We Serve</h2>
          <p class="section-content" id="communities-intro">We welcome participants from Chula Vista and nearby communities, including:</p>

          <ul class="list-columns" id="communities-list">
            <li>Chula Vista</li>
            <li>National City</li>
            <li>San Ysidro</li>
            <li>Paradise Hills</li>
            <li>Encanto</li>
            <li>City Heights</li>
            <li>Otay and Otay Ranch</li>
            <li>South San Diego</li>
          </ul>

          <p class="section-content" id="communities-outro">Transportation is available and coordinated based on location.</p>
        </div>
      </section>

      <!-- Activities -->
      <section class="section">
        <div class="section-inner">
          <h2 class="section-title" id="activities-title">Activities and Enrichment</h2>
          <p class="section-content" id="activities-intro">
            Participants enjoy a variety of engaging activities designed to encourage movement, creativity, and social connection, such as:
          </p>

          <div class="activities-grid" id="activities-grid">
            <div class="activity-tag">Zumba</div>
            <div class="activity-tag">Fitness Club</div>
            <div class="activity-tag" id="activity-cooking">Cooking Activities</div>
            <div class="activity-tag" id="activity-arts">Arts and Crafts</div>
            <div class="activity-tag">Bingo</div>
            <div class="activity-tag" id="activity-sports">Sports Day</div>
            <div class="activity-tag">Lego Club</div>
          </div>

          <p class="section-content" id="activities-outro">
            Activities may vary and are designed to keep each day active, fun, and engaging.
          </p>
        </div>
      </section>
    </div>

    <!-- FOOTER CTA -->
    <section class="footer-cta" id="footer-cta">
      <div class="footer-inner">
        <h2 id="contact-title">Ready to Learn More?</h2>
        <p id="contact-subtitle">
          We're here to answer your questions and help you explore whether the Community Engagement Program is the right fit.
        </p>
        <p id="contact-methods">
          You can reach us at <strong>referrals@optionsforall.org</strong> or click the button below.
        </p>

        <div class="cta-buttons">
          <button class="btn btn-primary" id="contact-button" type="button">Get in Touch</button>
        </div>
      </div>
    </section>
  </div>

  <!-- MODAL -->
  <div class="modal-overlay" id="contactModal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="modal-title">
      <div class="modal-header">
        <button class="close-modal" id="closeModal" aria-label="Close form" type="button">√ó</button>
        <h2 id="modal-title">Get in Touch</h2>
        <p id="modal-intro">
          Please fill out the fields below to have one of our team members assist you or contact your local Regional Center service coordinator.
        </p>
      </div>

      <div class="modal-body" id="modalBody">
        <form id="contactForm">
          <div class="form-row">
            <div class="form-group">
              <label for="firstName">First<span class="required">*</span></label>
              <input type="text" id="firstName" name="firstName" required />
            </div>
            <div class="form-group">
              <label for="lastName">Last<span class="required">*</span></label>
              <input type="text" id="lastName" name="lastName" required />
            </div>
          </div>

          <div class="form-group">
            <label for="contactType">Contact Type<span class="required">*</span></label>
            <select id="contactType" name="contactType" required>
              <option value="">Select an option</option>
              <option value="regional-center">Regional Center Client</option>
              <option value="family">Family Member / Care Provider</option>
              <option value="other">Other</option>
            </select>
          </div>

          <div class="form-group">
            <label for="email">Email<span class="required">*</span></label>
            <input type="email" id="email" name="email" required />
          </div>

          <div class="form-group">
            <label for="phone">Phone</label>
            <input type="tel" id="phone" name="phone" />
          </div>

          <div class="form-group">
            <label for="city">City</label>
            <input type="text" id="city" name="city" />
          </div>

          <div class="form-group">
            <label for="zip">ZIP / Postal Code</label>
            <input type="text" id="zip" name="zip" />
          </div>

          <div class="form-group">
            <label for="referral">How did you hear about us?</label>
            <select id="referral" name="referral">
              <option value="">Select an option</option>
              <option value="web-search">Web Search</option>
              <option value="social-media">Social Media</option>
              <option value="regional-center">Regional Center</option>
              <option value="friend-family">Friend / Family</option>
              <option value="other">Other</option>
            </select>
          </div>

          <div class="form-group">
            <label for="details">Additional Details</label>
            <textarea id="details" name="details" placeholder="In a few sentences, please describe your interest."></textarea>
          </div>

          <button type="submit" class="submit-btn" id="submitBtn">Submit</button>
        </form>
      </div>
    </div>
  </div>

  <script>
    /* ========================================
       EMAILJS CONFIGURATION
       ======================================== */
    const EMAILJS_CONFIG = {
      PUBLIC_KEY: 'YOUR_PUBLIC_KEY_HERE',
      SERVICE_ID: 'YOUR_SERVICE_ID_HERE',
      TEMPLATE_ID: 'YOUR_TEMPLATE_ID_HERE'
    };

    if (typeof emailjs !== 'undefined' && EMAILJS_CONFIG.PUBLIC_KEY !== 'YOUR_PUBLIC_KEY_HERE') {
      emailjs.init(EMAILJS_CONFIG.PUBLIC_KEY);
    }

    /* ========================================
       TRANSLATIONS (kept from your original)
       ======================================== */
    const translations = /* paste your existing translations object here */ window.translations || null;

    // If you want, you can keep your existing translations object exactly as-is.
    // For now, we‚Äôll only toggle EN/ES using your original updateContent() if it exists.

    let currentLang = 'en';

    /* ========================================
       ELEMENT SDK THEME HOOK (clean + consistent)
       - sets CSS variables instead of random inline styles
       ======================================== */
    const defaultConfig = {
      background_color: '#f8fafc',
      accent_color: '#1e3a8a',
      surface_color: '#ffffff',
      text_color: '#211c1d',
      button_color: '#ea580c',
      font_family: 'Poppins',
      font_size: 16
    };

    function applyCssVars(config){
      const root = document.documentElement;
      root.style.setProperty('--bg', config.background_color || defaultConfig.background_color);
      root.style.setProperty('--accent', config.accent_color || defaultConfig.accent_color);
      root.style.setProperty('--surface', config.surface_color || defaultConfig.surface_color);
      root.style.setProperty('--text', config.text_color || defaultConfig.text_color);
      root.style.setProperty('--button', config.button_color || defaultConfig.button_color);

      document.body.style.fontFamily = `${config.font_family || defaultConfig.font_family}, system-ui, -apple-system, sans-serif`;
      document.body.style.fontSize = `${config.font_size || defaultConfig.font_size}px`;
    }

    async function onConfigChange(config){
      applyCssVars(config);
    }

    function mapToCapabilities(config) {
      return {
        recolorables: [
          { get: () => config.background_color || defaultConfig.background_color, set: (v) => (config.background_color = v, window.elementSdk?.setConfig({ background_color: v })) },
          { get: () => config.accent_color || defaultConfig.accent_color,         set: (v) => (config.accent_color = v,     window.elementSdk?.setConfig({ accent_color: v })) },
          { get: () => config.surface_color || defaultConfig.surface_color,       set: (v) => (config.surface_color = v,   window.elementSdk?.setConfig({ surface_color: v })) },
          { get: () => config.text_color || defaultConfig.text_color,             set: (v) => (config.text_color = v,      window.elementSdk?.setConfig({ text_color: v })) },
          { get: () => config.button_color || defaultConfig.button_color,         set: (v) => (config.button_color = v,    window.elementSdk?.setConfig({ button_color: v })) }
        ],
        borderables: [],
        fontEditable: {
          get: () => config.font_family || defaultConfig.font_family,
          set: (v) => (config.font_family = v, window.elementSdk?.setConfig({ font_family: v }))
        },
        fontSizeable: {
          get: () => config.font_size || defaultConfig.font_size,
          set: (v) => (config.font_size = v, window.elementSdk?.setConfig({ font_size: v }))
        }
      };
    }

    function mapToEditPanelValues(config) {
      return new Map([]);
    }

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities,
        mapToEditPanelValues
      });
    } else {
      applyCssVars(defaultConfig);
    }

    /* ========================================
       Language toggle (uses your existing updateContent if present)
       ======================================== */
    function safeUpdateContent(lang){
      if (typeof updateContent === 'function') {
        updateContent(lang);
        return;
      }
      // Minimal fallback: just toggles labels
      document.getElementById('lang-en')?.classList.toggle('active', lang === 'en');
      document.getElementById('lang-es')?.classList.toggle('active', lang === 'es');
      document.getElementById('toggle-switch')?.classList.toggle('active', lang === 'es');
    }

    document.getElementById('toggle-switch').addEventListener('click', () => {
      currentLang = currentLang === 'en' ? 'es' : 'en';
      safeUpdateContent(currentLang);
    });

    document.getElementById('lang-en').addEventListener('click', () => {
      currentLang = 'en';
      safeUpdateContent(currentLang);
    });

    document.getElementById('lang-es').addEventListener('click', () => {
      currentLang = 'es';
      safeUpdateContent(currentLang);
    });

    /* ========================================
       Modal + buttons
       ======================================== */
    const modal = document.getElementById('contactModal');
    const closeModalBtn = document.getElementById('closeModal');
    const submitBtn = document.getElementById('submitBtn');
    const modalBody = document.getElementById('modalBody');

    function openModal(){
      modal.classList.add('active');
      modal.setAttribute('aria-hidden','false');
      document.body.style.overflow = 'hidden';
      document.getElementById('firstName')?.focus();
    }
    function closeModal(){
      modal.classList.remove('active');
      modal.setAttribute('aria-hidden','true');
      document.body.style.overflow = '';
    }

    document.getElementById('primary-button').addEventListener('click', openModal);
    document.getElementById('contact-button').addEventListener('click', openModal);

    document.getElementById('secondary-button').addEventListener('click', function() {
      const communitiesSection = document.querySelector('#communities-title')?.closest('.section');
      communitiesSection?.scrollIntoView({ behavior: 'smooth', block: 'start' });
    });

    closeModalBtn.addEventListener('click', closeModal);
    modal.addEventListener('click', (e) => { if (e.target === modal) closeModal(); });
    document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && modal.classList.contains('active')) closeModal(); });

    /* ========================================
       Form submit (same behavior, simplified)
       ======================================== */
    document.getElementById('contactForm').addEventListener('submit', async function(e){
      e.preventDefault();

      const notConfigured =
        EMAILJS_CONFIG.PUBLIC_KEY === 'YOUR_PUBLIC_KEY_HERE' ||
        EMAILJS_CONFIG.SERVICE_ID === 'YOUR_SERVICE_ID_HERE' ||
        EMAILJS_CONFIG.TEMPLATE_ID === 'YOUR_TEMPLATE_ID_HERE';

      if (notConfigured) {
        modalBody.innerHTML = `
          <div style="text-align:center; padding: 1.5rem;">
            <h3 style="font-size:1.35rem; font-weight:900; color:#dc2626; margin-bottom:.75rem;">Configuration Required</h3>
            <p style="color:#4b5563; line-height:1.7; margin-bottom:1rem;">
              EmailJS credentials are not set yet. Please update <strong>PUBLIC_KEY</strong>, <strong>SERVICE_ID</strong>, and <strong>TEMPLATE_ID</strong> in the code.
            </p>
            <p style="color:#4b5563; line-height:1.7; margin-bottom:1.5rem;">
              For now, email <strong>referrals@optionsforall.org</strong>.
            </p>
            <button class="btn btn-primary" type="button" onclick="document.getElementById('closeModal').click()">Close</button>
          </div>
        `;
        return;
      }

      submitBtn.disabled = true;
      submitBtn.textContent = currentLang === 'en' ? 'Sending...' : 'Enviando...';

      const formData = {
        from_name: `${document.getElementById('firstName').value} ${document.getElementById('lastName').value}`,
        firstName: document.getElementById('firstName').value,
        lastName: document.getElementById('lastName').value,
        contactType: document.getElementById('contactType').value,
        reply_to: document.getElementById('email').value,
        email: document.getElementById('email').value,
        phone: document.getElementById('phone').value,
        city: document.getElementById('city').value,
        zip: document.getElementById('zip').value,
        referral: document.getElementById('referral').value,
        message: document.getElementById('details').value
      };

      try {
        await emailjs.send(EMAILJS_CONFIG.SERVICE_ID, EMAILJS_CONFIG.TEMPLATE_ID, formData);

        modalBody.innerHTML = `
          <div style="text-align:center; padding: 2rem;">
            <h3 style="font-size:1.6rem; font-weight:900; color:#16a34a; margin-bottom:.75rem;">Message Sent!</h3>
            <p style="color:#4b5563; line-height:1.7; margin-bottom:1.5rem;">
              Thank you. We received your message and will follow up soon.
            </p>
            <button class="btn btn-primary" type="button" onclick="location.reload()">Close</button>
          </div>
        `;
      } catch (err) {
        modalBody.innerHTML = `
          <div style="text-align:center; padding: 2rem;">
            <h3 style="font-size:1.6rem; font-weight:900; color:#dc2626; margin-bottom:.75rem;">Something went wrong</h3>
            <p style="color:#4b5563; line-height:1.7; margin-bottom:1.5rem;">
              Please try again or email <strong>referrals@optionsforall.org</strong>.
            </p>
            <button class="btn btn-primary" type="button" onclick="location.reload()">Close</button>
          </div>
        `;
        console.error(err);
      } finally {
        submitBtn.disabled = false;
        submitBtn.textContent = 'Submit';
      }
    });
  </script>
</body>
</html>
